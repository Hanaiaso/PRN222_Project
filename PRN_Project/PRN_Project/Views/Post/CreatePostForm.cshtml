@model int
@{
    var classroomId = Model;
}

<div class="post-form">
    <h5>ğŸ“ ÄÄƒng bÃ i má»›i</h5>
    <form asp-controller="Post" asp-action="Create" method="post">
        <input type="hidden" name="classroomId" value="@classroomId" />
        
        <!-- Chá»n loáº¡i bÃ i Ä‘Äƒng -->
        <div class="post-type-toggle">
            <div class="post-type-btn active" data-type="Announcement" onclick="selectPostType('Announcement')">
                ğŸ“¢ ThÃ´ng bÃ¡o
            </div>
            <div class="post-type-btn" data-type="Assignment" onclick="selectPostType('Assignment')">
                ğŸ“š BÃ i táº­p
            </div>
        </div>
        <input type="hidden" name="postType" id="postType" value="Announcement" />
        
        <!-- TiÃªu Ä‘á» -->
        <input type="text" name="title" placeholder="Nháº­p tiÃªu Ä‘á»..." required />
        
        <!-- Ná»™i dung -->
        <textarea name="content" placeholder="Nháº­p ná»™i dung..." required></textarea>
        
        <!-- Háº¡n ná»™p (chá»‰ hiá»‡n khi chá»n BÃ i táº­p) -->
        <div class="due-date-field" id="dueDateField" style="display: none;">
            <label>â° Háº¡n ná»™p:</label>
            <input type="datetime-local" name="dueDate" id="dueDate" />
        </div>
        
        <button type="submit" class="btn btn-primary">ÄÄƒng bÃ i</button>
    </form>
</div>

<script>
    function selectPostType(type) {
        // Cáº­p nháº­t hidden input
        document.getElementById('postType').value = type;
        
        // Cáº­p nháº­t UI cá»§a cÃ¡c nÃºt
        document.querySelectorAll('.post-type-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.closest('.post-type-btn').classList.add('active');
        
        // Hiá»ƒn thá»‹/áº©n trÆ°á»ng háº¡n ná»™p
        const dueDateField = document.getElementById('dueDateField');
        const dueDateInput = document.getElementById('dueDate');
        if (type === 'Assignment') {
            dueDateField.classList.add('show');
            dueDateInput.required = true;
        } else {
            dueDateField.classList.remove('show');
            dueDateInput.required = false;
            dueDateInput.value = '';
        }
    }
</script>

